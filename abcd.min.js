"use strict";(()=>{function r(e){var n,o;if(!e||typeof e!="string")throw new Error("Invalid cookie name provided");if(!/^[^;=\s]+$/.test(e))throw new Error("Invalid characters in cookie name");let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2){let i=decodeURIComponent((o=(n=a.pop())==null?void 0:n.split(";").shift())!=null?o:"");if(i)return i;throw new Error("Error decoding cookie value")}}var f={};globalThis.abTests=f;var p=60*60*24*30;function g(){if(document.getElementById("abTestStyles")!=null)return;let e=globalThis.document.createElement("style");e.id="abTestStyles",globalThis.document.head.appendChild(e),h('[ab-test-variant]:not([ab-test-variant="control"]) { display: none; }')}function h(e){let t=document.getElementById("abTestStyles").sheet;t.insertRule(e,t.cssRules.length)}function m(e){g();for(let t of e)s(t);function s(t){let a=`ab-${t.name}`,n=r(a);if(!n){let o=Math.random(),i=0;n="control";for(let c in t.variants)if(i+=t.variants[c],o<=i){n=c;break}globalThis.document.cookie=`${a}=${n}; path=/; max-age=${p}`}for(let o in t.variants){f[t.name]=o;let i=`[ab-test-name="${t.name}"][ab-test-variant="${o}"] { display: ${o===n?"inherit":"none"}; }`;h(i)}}}var d,u,l=(u=(d=globalThis.document)==null?void 0:d.currentScript)==null?void 0:u.getAttribute("config");l&&(g(),fetch(l).then(async e=>await e.json()).then(m).catch(e=>{console.error("Error loading A/B test configuration:",e)}));})();
//# sourceMappingURL=abcd.min.js.map
