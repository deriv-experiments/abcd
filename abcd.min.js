"use strict";(()=>{function s(e){var n,o;if(!e||typeof e!="string")throw new Error("Invalid cookie name provided");if(!/^[^;=\s]+$/.test(e))throw new Error("Invalid characters in cookie name");let a=`; ${document.cookie}`.split(`; ${e}=`);if(a.length===2){let i=decodeURIComponent((o=(n=a.pop())==null?void 0:n.split(";").shift())!=null?o:"");if(i)return i;throw new Error("Error decoding cookie value")}}var g=60*60*24*30;function u(){if(document.getElementById("abTestStyles")!=null)return;let e=globalThis.document.createElement("style");e.id="abTestStyles",globalThis.document.head.appendChild(e),f('[ab-test-variant]:not([ab-test-variant="control"]) { display: none; }')}function f(e){let t=document.getElementById("abTestStyles").sheet;t.insertRule(e,t.cssRules.length)}function h(e){u();for(let t of e)r(t);function r(t){let a=`ab-${t.name}`,n=s(a);if(!n){let o=Math.random();n="control";for(let i in t.variants)if(o<=t.variants[i]){n=i;break}globalThis.document.cookie=`${a}=${n}; path=/; max-age=${g}`}for(let o in t.variants){let i=`[ab-test-name="${t.name}"][ab-test-variant="${o}"] { display: ${o===n?"inherit":"none"}; }`;f(i)}}}var l,d,c=(d=(l=globalThis.document)==null?void 0:l.currentScript)==null?void 0:d.getAttribute("config");c&&(u(),fetch(c).then(async e=>await e.json()).then(h).catch(e=>{console.error("Error loading A/B test configuration:",e)}));})();
//# sourceMappingURL=abcd.min.js.map
